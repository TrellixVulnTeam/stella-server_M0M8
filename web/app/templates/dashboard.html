{% extends "base.html" %}


{% block title %}STELLA{% endblock %}

{% block page_content %}

    <h2>Dashboard</h2>

    <!-- Erstellen der Bootstrap elemente für das Raster  -->
    <dif class="container-fluid full-width has-inner">
        <dif class="row row-no-gutters">

        <!-- Schleife zum Füllen des Rasters mit Diagrammen  -->
            {% for id in ids %}
                <div class="col-sm-4 col-md-4 "></div>
                <div class="embed-responsive embed-responsive-4by3 " id="{{id}}"></div>
            {% endfor %}
        </div>
    </dif>


<footer>
    <!-- D3.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>


    <!-- Javascript zum zerlegen der JSON in einzelne Diagramme  -->
    <script type="text/javascript">

        var graphs = {{graphJSON | safe}};
        var ids = {{ids | safe}};

        for(var i in graphs) {
            Plotly.plot(ids[i], // the ID of the div, created above
                        graphs[i].data,
                        graphs[i].layout || {});
        }

    </script>
</footer>

{% endblock %}